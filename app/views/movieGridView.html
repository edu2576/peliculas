<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Expires" content="0">
  		<meta http-equiv="Last-Modified" content="0">
  		<meta http-equiv="Cache-Control" content="no-cache, mustrevalidate">
  		<meta http-equiv="Pragma" content="no-cache">
		<meta name="description" content="An Icon Font Generated By IcoMoon.io">
		<title>Películas</title>
		<link rel="StyleSheet" href="<?php echo BASE_URL.'public/css/iconos.css';?>" type="text/css" media="screen">
		<link rel="StyleSheet" href="<?php echo BASE_URL.'public/bootstrap/bootstrap.min.css';?>" type="text/css" media="screen">
	</head>
	<body>
		<header>
			<div class="navbar navbar-dark bg-dark shadow-sm">
				<a href="<?php echo BASE_URL.'init';?>" class="navbar-brand d-flex align-items-center">
					Home
				</a>
				<a class="btn btn-outline-primary" href="<?php echo BASE_URL.'login/out';?>">Sign up</a>
			</div>
		</header>
		<section>
			<div class="container">
    			<div class="row">
    				<legend class="text-center header">Administración de Películas</legend>
                    <hr>
    				<table id="grid" style="margin: auto; width: 50% !important;">
						<thead>
							<tr>
								<th>
									<a href="<?php echo BASE_URL.'movie/create';?>" title="Adicionar">
										<span class="icon icon-plus">
										</span>
									</a>
								</th>
								<th>Título</th>
								<th>Sinopsis</th>
								<th>Año</th>
							</tr>
						</thead>
						<tbody>
							<?php
								for($j=0; $j < count($this->result); $j++)
								{

							?>
							<tr>
								<td>
									<a href="<?php echo BASE_URL.'movie/edit/'.$this->result[$j]['id'];?>" title="Modificar">
										<span class="icon icon-pencil">
										</span>
									</a>
									<a href="<?php echo BASE_URL.'movie/delete/'.$this->result[$j]['id'];?>" title="Eliminar">
										<span class="icon icon-bin">
										</span>
									</a>
									<a href="<?php echo BASE_URL.'movie/show/'.$this->result[$j]['id'];?>" title="Eliminar">
										<span class="icon icon-search">
										</span>
									</a>
								</td>
								<td><?php echo $this->result[$j]['title'];?></td>
								<td><?php echo $this->result[$j]['synopsis'];?></td>
								<td><?php echo $this->result[$j]['year'];?></td>
							</tr>
							<?php

								}
							?>
						</tbody>
					</table>
				</div>
			</div>
		</section>
		<script type="text/javascript" src="<?php echo BASE_URL.'public/tablefilter/tablefilter.js';?>"></script>
		<script type="text/javascript">

			window.addEventListener("load",function(){

				var filtersConfig = {
                    base_path: "<?php echo BASE_URL.'public/tablefilter/';?>",
                    paging: true,
                    page_text: ' Página ',
                    alternate_rows: true,
                    rows_counter: true,
                    rows_counter_text: 'Filas: ',
                    results_per_page: ['Registros',[15,30,50,80,100]],
                    mark_active_columns: true
                };

                var tf = new TableFilter('grid', filtersConfig);
                    tf.init();

			},false);
		</script>
	</body>
</html>